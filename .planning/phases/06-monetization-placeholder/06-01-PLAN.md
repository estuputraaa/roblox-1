---
phase: 06-monetization-placeholder
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua
autonomous: true
must_haves:
  truths:
    - "Config punya katalog GamePass/DevProduct placeholder yang terstruktur dan aman saat ID belum valid."
    - "Policy continue mendukung unlimited attempts dengan harga display naik per usage count."
    - "Reward policy monetisasi memiliki guard cap agar non-breaking terhadap economy awal."
  artifacts:
    - path: src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua
      provides: "Catalog monetization + helper policy untuk continue pricing."
  key_links:
    - from: src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua
      to: src/ServerScriptService/Services/MonetizationService.lua
      via: "config-driven key lookup dan policy resolution"
---

<objective>
Merapikan fondasi config monetisasi placeholder agar siap dipakai runtime.

Purpose: Menghindari hardcode ID/policy di service dan membuat tuning monetisasi lebih aman.
Output: tabel config terstruktur + helper perhitungan continue display price.
</objective>

<execution_context>
@.claude/get-shit-done/workflows/execute-plan.md
@.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-monetization-placeholder/06-CONTEXT.md
@.planning/phases/06-monetization-placeholder/06-RESEARCH.md
@src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua
</context>

<tasks>

<task type="auto">
  <name>Task 1: Susun catalog GamePass/DevProduct placeholder</name>
  <files>src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua</files>
  <action>Refactor config menjadi katalog terstruktur untuk gamepass/devproduct (id, enabled, notes/reward key) dan tetap backward-compatible dengan key yang sudah dipakai service.</action>
  <verify>Config bisa diakses dengan key lama (`FastRepair`, `ContinueRun`, dll) tanpa error.</verify>
  <done>Service bisa membaca ID/metadata monetisasi dari satu sumber config yang jelas.</done>
</task>

<task type="auto">
  <name>Task 2: Definisikan policy continue unlimited dengan escalating display price</name>
  <files>src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua</files>
  <action>Tambahkan helper/policy untuk hitung harga continue in-game berdasarkan usage count (base + step, capped) sambil tetap mendukung unlimited attempt.</action>
  <verify>Tersedia fungsi helper yang mengembalikan display price deterministik dari usage count.</verify>
  <done>Mekanik continue price naik bisa digunakan konsisten oleh service/UI.</done>
</task>

<task type="auto">
  <name>Task 3: Kunci reward guard agar non-breaking</name>
  <files>src/ReplicatedStorage/Shared/Config/MonetizationConfig.lua</files>
  <action>Tambahkan batas reward/floor recovery/bonus multiplier ringan untuk menjaga balancing early game tetap masuk akal.</action>
  <verify>Semua nilai reward punya batas minimal/maksimal yang eksplisit di config.</verify>
  <done>Placeholder monetisasi aman untuk playtest tanpa merusak loop ekonomi utama.</done>
</task>

</tasks>

<verification>
- [ ] Config monetisasi terstruktur dan backward-compatible.
- [ ] Policy continue price tersedia untuk unlimited usage.
- [ ] Guard reward/floor terdokumentasi di config.
</verification>

<success_criteria>
- MON-01 foundation tersedia dari sisi katalog dan policy.
- Plan 06-02 bisa fokus ke runtime hooks + safety checks.
</success_criteria>

<output>
After completion, create `.planning/phases/06-monetization-placeholder/06-01-SUMMARY.md`
</output>
